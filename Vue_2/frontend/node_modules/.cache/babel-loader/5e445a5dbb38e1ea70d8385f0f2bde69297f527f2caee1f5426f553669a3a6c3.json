{"ast":null,"code":"import axios from '../axios';\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      confirmPassword: '',\n      email: '',\n      phone: '',\n      loading: false\n    };\n  },\n  methods: {\n    async handleRegister() {\n      if (this.password !== this.confirmPassword) {\n        this.$message.error('两次输入的密码不一致');\n        return;\n      }\n      this.loading = true;\n      try {\n        const res = await axios.post('/auth/register', {\n          username: this.username,\n          password: this.password,\n          email: this.email,\n          phone: this.phone\n        });\n        if (res.ok) {\n          // 显示成功消息\n          this.$message.success('注册成功！请登录');\n\n          // 跳转到登录页面\n          this.$router.push('/login');\n        }\n      } catch (error) {\n        console.error('注册失败', error);\n        // 显示错误消息\n        this.$message.error(error.error?.message || '注册失败，请稍后重试');\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","username","password","confirmPassword","email","phone","loading","methods","handleRegister","$message","error","res","post","ok","success","$router","push","console","message"],"sources":["D:\\21626\\MyFiles\\files\\2025fall\\SE\\Vue_2\\frontend\\src\\views\\Register.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-6 col-lg-4\">\n        <div class=\"card mt-5\">\n          <div class=\"card-header bg-primary text-white\">\n            <h4 class=\"mb-0\">用户注册</h4>\n          </div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"handleRegister\">\n              <div class=\"form-group\">\n                <label for=\"username\">用户名</label>\n                <input \n                  type=\"text\" \n                  id=\"username\" \n                  v-model=\"username\" \n                  class=\"form-control\" \n                  required\n                >\n              </div>\n              <div class=\"form-group\">\n                <label for=\"password\">密码</label>\n                <input \n                  type=\"password\" \n                  id=\"password\" \n                  v-model=\"password\" \n                  class=\"form-control\" \n                  required\n                >\n              </div>\n              <div class=\"form-group\">\n                <label for=\"confirmPassword\">确认密码</label>\n                <input \n                  type=\"password\" \n                  id=\"confirmPassword\" \n                  v-model=\"confirmPassword\" \n                  class=\"form-control\" \n                  required\n                >\n                <div class=\"text-danger\" v-if=\"password !== confirmPassword\">\n                  两次输入的密码不一致\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"email\">邮箱（可选）</label>\n                <input \n                  type=\"email\" \n                  id=\"email\" \n                  v-model=\"email\" \n                  class=\"form-control\"\n                >\n              </div>\n              <div class=\"form-group\">\n                <label for=\"phone\">手机号（可选）</label>\n                <input \n                  type=\"tel\" \n                  id=\"phone\" \n                  v-model=\"phone\" \n                  class=\"form-control\"\n                >\n              </div>\n              <button \n                type=\"submit\" \n                class=\"btn btn-primary btn-block\" \n                :disabled=\"loading || password !== confirmPassword\"\n              >\n                <span v-if=\"loading\" class=\"spinner-border spinner-border-sm mr-2\"></span>\n                注册\n              </button>\n            </form>\n            \n            <div class=\"mt-3 text-center\">\n              <p>已有账号？<router-link to=\"/login\">立即登录</router-link></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from '../axios';\n\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      confirmPassword: '',\n      email: '',\n      phone: '',\n      loading: false\n    };\n  },\n  methods: {\n    async handleRegister() {\n      if (this.password !== this.confirmPassword) {\n        this.$message.error('两次输入的密码不一致');\n        return;\n      }\n      \n      this.loading = true;\n      try {\n        const res = await axios.post('/auth/register', {\n          username: this.username,\n          password: this.password,\n          email: this.email,\n          phone: this.phone\n        });\n        \n        if (res.ok) {\n          // 显示成功消息\n          this.$message.success('注册成功！请登录');\n          \n          // 跳转到登录页面\n          this.$router.push('/login');\n        }\n      } catch (error) {\n        console.error('注册失败', error);\n        // 显示错误消息\n        this.$message.error(error.error?.message || '注册失败，请稍后重试');\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.card {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n.card-header {\n  text-align: center;\n}\n</style>\n"],"mappings":"AAkFA,OAAOA,KAAI,MAAO,UAAU;AAE5B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,cAAcA,CAAA,EAAG;MACrB,IAAI,IAAI,CAACN,QAAO,KAAM,IAAI,CAACC,eAAe,EAAE;QAC1C,IAAI,CAACM,QAAQ,CAACC,KAAK,CAAC,YAAY,CAAC;QACjC;MACF;MAEA,IAAI,CAACJ,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMK,GAAE,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAAC,gBAAgB,EAAE;UAC7CX,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBE,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,KAAK,EAAE,IAAI,CAACA;QACd,CAAC,CAAC;QAEF,IAAIM,GAAG,CAACE,EAAE,EAAE;UACV;UACA,IAAI,CAACJ,QAAQ,CAACK,OAAO,CAAC,UAAU,CAAC;;UAEjC;UACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B;MACF,EAAE,OAAON,KAAK,EAAE;QACdO,OAAO,CAACP,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;QAC5B;QACA,IAAI,CAACD,QAAQ,CAACC,KAAK,CAACA,KAAK,CAACA,KAAK,EAAEQ,OAAM,IAAK,YAAY,CAAC;MAC3D,UAAU;QACR,IAAI,CAACZ,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}